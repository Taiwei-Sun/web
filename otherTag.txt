寫iPhone
objection-c
swift


Scott 寫 python


a10 預設ssh 172.31.31.31/24

[!>a-z :]?show *^013^010

^013^010

fcj3GFjO6n3P






10.1.1.13 -> 10.2.1.5 or 10.3.3.154  無法掃描




1.gi --in-> a10-nat->a10 --en-> gi --en-> a10-Rnat->a10 --?-> gi

nsnpm
nedpm








為愛朗讀



admin/1qaz@WSX 148








Set-ExecutionPolicy RemoteSigned








winrs windows remote


wdsx7@share
ycchang@

psmx

ps_napttest1~4  twm@1220

qnap GZH-445-48023


10.51.188.10 外網  10.51.188.15  內網



f5廠商
08:60:6e:8b:62:be
28:d2:44:73:0c:7d
54:a0:50:b1:34:e7
DC:85:DE:90:AF:3D
54:A0:50:B1:34:E7
5C:51:4F:9B:A9:42


ip mac 國泰  耀揚
http://www.e-soft.com.tw/index.php/main-function.html




GitHub is a web-based Git or version control repository and Internet hosting service. It is mostly used for code. It offers all of the distributed version control and source code management (SCM) functionality of Git as well as adding its own features. It provides access control and several collaboration features such as bug tracking, feature requests, task management, and wikis for every project.[3]



這個角色代表的是盲目的愛情，她愛上的是愛情的模樣




session.query(schema.LogData).filter_by(log_type=log_type).filter(schema.LogData.date_time >= date.today())
session的methon

all_rows架構

json.dumps

render_template

data-url="{{ url_for('report_api.get_data', **index) }}"



mac excel
cell 加入換行
1. =a1&char(10)&a2
2. =a1&"[alt+enter]"&a2    =a1&"[option+command+enter]"&a2

1,2都不行，第二個加上wrap text（自動換行）就可以



solidPDF



<span style="border: 0px; margin: 0px; padding: 0px; font-size: 14px;"><span style="border: 0px; margin: 0px; padding: 0px; font-size: 14px;">再說一個更重要，但是稍微複雜一點的用途——求解微分方程。</span><span style="border: 0px; margin: 0px; padding: 0px; font-size: 14px;">（這段有點難度，看不懂的可以直接跳過這段）微分方程的重要性不用我過多介紹了。</span><span style="border: 0px; margin: 0px; padding: 0px; font-size: 14px;">各行各業都用的到。</span><span style="border: 0px; margin: 0px; padding: 0px; font-size: 14px;">但是求解微分方程卻是一件相當麻煩的事情。</span><span style="border: 0px; margin: 0px; padding: 0px; font-size: 14px;">因為除了要計算加減乘除，還要計算微分積分。</span><span style="border: 0px; margin: 0px; padding: 0px; font-size: 14px;">而傅里葉變換則可以讓微分和積分在頻域中變為乘法和除法，大學數學瞬間變小學算術有沒有。</span></span>



windows 
netstat -a -b | findstr "8080"



jason 0920610433
koxi 0938760857



mysql -u username -p database_name < file.sql



---------------
1.th6430 sitc 升版測試 sop，需拆成th6630  and th6430，問mox怎麼測，要用到手機？---
2.th6630測試，問一下原廠有沒有設備測試，問serene轉給業務
3.neonata01/02 需要刪掉saea07 sop---
4.結案文件slide 6，問serene---
5.iot test SOP
6.saea07/09 SOP
7.chonata01/02 remove saew06 SOP
8.觀察報告8/28~9/4

---------------

tmsh

config interface ip
https://support.f5.com/csp/article/K15040



-------------------------------------------
a10

vlan-global enable-def-vlan-l2-forwarding 


-------------------------------------------
!!!juniper

---restart
request chassis fpc restart slot 5

Get nsrp 看ha的
get tech 抓所有分析用的資訊



-------------------------------------------
!!!macOS
---add DISPLAY variable
sundaiweide-MacBook:~ taiwei$ setenv DISPLAY sundaiweide-MacBook.local:0.0
-bash: setenv: command not found
sundaiweide-MacBook:~ taiwei$ tcsh
[sundaiweide-MacBook:~] taiwei% setenv DISPLAY sundaiweide-MacBook.local:0.0
[sundaiweide-MacBook:~] taiwei% ssh -Y root@172.18.200.113|tee -a 20180702sitc.log

--- add auto terminal log

tDATE=`/bin/date "+%Y-%m-%d%H%M%S"`;/usr/bin/script  ~/google_dirve/mac-preservation/terminal/T_$tDATE.log



---20180607 add routing
route add -host 54.81.143.201 -interface en0

---20180531install convmv
About the App
App name: convmv
App description: Filename encoding conversion tool
App website: http://www.j3e.de/linux/convmv/
Install the App
Press Command+Space and type Terminal and press enter/return key.
Run in Terminal app:
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" < /dev/null 2> /dev/null
and press enter/return key. 
If the screen prompts you to enter a password, please enter your Mac's user password to continue. When you type the password, it won't be displayed on screen, but the system would accept it. So just type your password and press ENTER/RETURN key. Then wait for the command to finish.
Run:
brew install convmv
Done! You can now use convmv.

---convmv
轉換big5、utf-8的檔名
朋友丟過來的壓縮檔
因為是在windows中壓縮的
所以檔名的格式都是big5
但是linux的檔名都是用utf8
這時候可以利用convmv來進行轉換
這是把big5轉成utf8
convmv -r -f big5 -t utf8 --notest filename 
這是把utf8轉成big5
convmv -r -f utf8 -t big5 --notest filename
--notest就是直接執行了
如果不加--notest就會進行測試
但是不會實際轉換
-r則是針對目錄所做的
例如這個目錄底下都是big5要通通轉成utf8
就可以利用-r這個參數

---

sudo networksetup -setdnsservers 'AX88179 USB 3.0 to Gigabit Ethernet' 168.95.1.1

sudo rm /System/Library/Caches/com.apple.IntlDataCache*
sudo rm /var/folders/*/*/-Caches-/com.apple.IntlDataCache*


---screenshot name, path, time formation
defaults write com.apple.screencapture location ~/Desktop/screenshot
killall SystemUIServer
defaults write com.apple.screencapture name screenshot
defaults write com.apple.screencapture type jpg

security find-generic-password -ga "Sun"
defaults read /Library/Preferences/SystemConfiguration/com.apple.airport.preferences |grep "SSIDString"|sed 's/SSIDString = //g'|sed 's/[ ;]//g'

It's using the system's standard date/time display format which you can customise in the 'Formats' tab in System Preferences → Language&Text

Or, it might be quicker to just change the time display of the clock to 24-hours mode: System Preferences → Date & Time

---
---install steam on case sensitive file system
USER=$(whoami)
cd /Users/${USER}/Library/Application\ Support/Steam/Steam.AppBundle/Steam/Contents/MacOS/public; ls *.res | while read line ; do file=$(echo $line | tr '[:upper:]' '[:lower:]'); mv $line $file; done
cd /Users/${USER}/Library/Application\ Support/Steam/Steam.AppBundle/Steam/Contents/MacOS/steam/cached/; ls *.res | while read line ; do file=$(echo $line | tr '[:upper:]' '[:lower:]'); mv $line $file; done
cd /Users/${USER}/Library/Application\ Support/Steam/Steam.AppBundle/Steam/Contents/MacOS/friends; ls *.res | while read line ; do file=$(echo $line | tr '[:upper:]' '[:lower:]'); mv $line $file; done
cd /Users/${USER}/Library/Application\ Support/Steam/Steam.AppBundle/Steam/Contents/MacOS/graphics; ls *.tga | while read line ; do file=$(echo $line | tr '[:upper:]' '[:lower:]'); mv $line $file; done
cd /Users/${USER}/Library/Application\ Support/Steam/Steam.AppBundle/Steam/Contents/MacOS/servers; ls *.tga | while read line ; do file=$(echo $line | tr '[:upper:]' '[:lower:]'); mv $line $file; done
----

---reindex
https://support.microsoft.com/en-us/help/2741535/outlook-for-mac-search-returns-no-results-and-task-items-are-not-displ

If the issue is still unresolved, the Spotlight index may be corrupted. To reindex the Spotlight index, follow these steps:

1. Restart the Mac, so that it restarts the Spotlight services.

2. Navigate to Finder > Applications > Utilities > Terminal.

3. Type mdimport -L.

4. Important: If you see more than one instance of "Microsoft Outlook Spotlight Importer.mdimporter," delete the Outlook application that you are not using, empty it from the Trash, restart your Mac, and go back to step 1.

5. In the Terminal, reindex your Outlook database by using the following command and substituting your own user name for the <user_name> placeholder: 

$ mdimport -g "/Applications/Microsoft Outlook.app/Contents/Library/Spotlight/Microsoft Outlook Spotlight Importer.mdimporter" -d1 “/Users/<user_name>/Library/Group Containers/UBF8T346G9.Office/Outlook/Outlook 15 Profiles/<my_profile_name>”  

Note In this command, the path after "-g" is the default path of the Outlook installation. The path after "-d1" is the default path of your profile, where <my_profile_name> is, by default “Main Profile." You'll have to substitute your actual paths if you have renamed your profile or installed Outlook in a different location.
Reindexing will take some time to complete. After the process is complete, exit and then restart Outlook. 

---

---login start
tl;dr: use OSX's native process launcher and manager, launchd.

To do so, make a launchctl daemon. You'll have full control over all aspects of the script. You can run once or keep alive as a daemon. In most cases, this is the way to go.

Create a .plist file according to the instructions in the Apple Dev docs here or more detail below.
Place in ~/Library/LaunchAgents
Log in (or run manually via launchctl load [filename.plist])
For more on launchd, the wikipedia article is quite good and describes the system and its advantages over other older systems.

Here's the specific plist file to run a script at login.

Updated 2017/09/25 for OSX El Capitan and newer (credit to José Messias Jr):

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
   <key>Label</key>
   <string>com.user.loginscript</string>
   <key>ProgramArguments</key>
   <array><string>/path/to/executable/script.sh</string></array>
   <key>RunAtLoad</key>
   <true/>
</dict>
</plist>
Replace the after the Program key with your desired command.

Save as ~/Library/LaunchAgents/com.user.loginscript.plist

Run launchctl load ~/Library/LaunchAgents/com.user.loginscript.plist and log out/in to test (or to test directly, run launchctl start com.user.loginscript)

Tail /var/log/system.log for error messages.

The key is that this is a User-specific launchd entry, so it will be run on login for the given user. System-specific launch daemons (placed in /Library/LaunchDaemons) are run on boot.

If you want a script to run on login for all users, I believe LoginHook is your only option, and that's probably the reason it exists.

---

如果要像windows一樣打開圖片可以按左右鍵來瀏覽圖片，必須用space來打開圖片


-------------------------------------------
windows

netsh interface ipv6 set interface "區域連線" routerdiscovery=disabled
netsh int ipv6 show neigh
netstat -a -b

net user /add [username] [password]

vbs
Set objShell=Wscript.CreateObject("Wscript.shell")
strDesktopFolder=objShell.SpecialFolders("Desktop") & "\"
Set objShortcut=objShell.CreateShortcut(strDesktopFolder & "Private_Cloud.lnk")
objShortCut.TargetPath = "ftp://10.51.188.18"
objShortCut.Description = "Qnap"
objShortCut.Save

Set oWS = WScript.CreateObject("WScript.Shell")
sLinkFile = "C:\MyShortcut.LNK"
Set oLink = oWS.CreateShortcut(sLinkFile)
    oLink.TargetPath = "C:\Program Files\MyApp\MyProgram.EXE"
 '  oLink.Arguments = ""
 '  oLink.Description = "MyProgram"   
 '  oLink.HotKey = "ALT+CTRL+F"
 '  oLink.IconLocation = "C:\Program Files\MyApp\MyProgram.EXE, 2"
 '  oLink.WindowStyle = "1"   
 '  oLink.WorkingDirectory = "C:\Program Files\MyApp"
oLink.Save

@echo off
echo Set oWS = WScript.CreateObject("WScript.Shell") > CreateShortcut.vbs
echo sLinkFile = "%HOMEDRIVE%%HOMEPATH%\Desktop\Hello.lnk" >> CreateShortcut.vbs
echo Set oLink = oWS.CreateShortcut(sLinkFile) >> CreateShortcut.vbs
echo oLink.TargetPath = "C:\Windows\notepad.exe" >> CreateShortcut.vbs
echo oLink.Save >> CreateShortcut.vbs
cscript CreateShortcut.vbs
del CreateShortcut.vbs


SET
You can also do SET prefix to see all variables with names starting with prefix.

for example if you want to read only derbydb from the environment variables do the following :

set derby 

cscript qnap.vbs



---ssh login auto

For some versions of PuTTY, it's as simple as one of:

putty.exe mylogin@somewhere.com -pw mypassword
putty.exe somewhere.com -l mylogin -pw mypassword
If you want to connect using SSH, use this:

putty.exe -ssh root@somewhere.com -pw mypasswordforsomewherecom -m 'remote command'

---vmware command

vmrun
vmrun start c:\My Virtual Machines\<virtual_machine_name>.vmx
https://www.vmware.com/support/ws5/doc/ws_learning_cli_vmrun.html

---


----------------------qnap.vbs--------------
path1="C:\Users\Public\Desktop\" 'windows 7, windows 8 and windows 10
path2="C:\Documents and Settings\All Users\桌面\" 'windos xp 
path3="C:\Documents and Settings\All Users\Desktop\" 'windows xp English

Set fso = CreateObject("Scripting.FileSystemObject")
Set objShell=Wscript.CreateObject("Wscript.shell")


if (fso.FolderExists(path1)) then
 strDesktopFolder=path1
elseif (fso.FolderExists(path2)) then
 strDesktopFolder=path2
elseif (fso.FolderExists(path3)) then
 strDesktopFolder=path3
else
 WScript.echo "error: Desktop folder dose not exist!!!"
 WScript.Quit(1)
end if


Set objShortcut=objShell.CreateShortcut(strDesktopFolder & "Private Cloud.lnk")
objShortCut.TargetPath = "ftp://10.51.188.18"
objShortCut.Description = "Qnap"
objShortCut.Save
---------------------------------------------










-------------------------------------------
!!!linux

---logrotate test
/usr/sbin/logrotate -f /etc/logrotate.d/logrotate-traffix.conf
/usr/sbin/logrotate -d /etc/logrotate.d/logrotate-traffix.conf


find . -type f  -exec du -h {} + | sort -r -h|more


ip -6 neigh show
ping6 -I eth0 fe80::21b:63ff:feab:e6a6
ssh -6 fe80::21b:21ff:fe22:e865%eth1

tr -d '\n' < yourfile.txt
Edit:

If none of the commands posted here are working, then you have something other than a newline separating your fields. Possibly you have DOS/Windows line endings in the file (although I would expect the Perl solutions to work even in that case)?

Try:

tr -d "\n\r" < yourfile.txt
If that doesn't work then you're going to have to inspect your file more closely (e.g. in a hex editor) to find out what characters are actually in there that you want to remove.

ls -l /etc/*-release




Use this command to find your active zone(s):

firewall-cmd --get-active-zones
It will say either public, dmz, or something else. You should only apply to the zones required.

In the case of dmz try:

centos 7 firewall https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-using-firewalld-on-centos-7
firewall-cmd --zone=dmz --add-port=2888/tcp --permanent
Otherwise, substitute dmz for your zone, for example, if your zone is public:

firewall-cmd --zone=public --add-port=2888/tcp --permanent
Then remember to reload the firewall for changes to take effect.

firewall-cmd --reload


usermod -a -G programer ben
newgrp

setfacl -m d:u:myuser1:rx /srv/projecta
setfacl -m m:r acl_test1

nohup redshift &
$ redshift &
$ disown

[root@taiwei system]# vi openSSHportd.service 
[root@taiwei system]# systemctl daemon-reload
[root@taiwei system]# systemctl enable openSSHport.service 
Failed to execute operation: No such file or directory
[root@taiwei system]# systemctl enable openSSHportd.service 
Created symlink from /etc/systemd/system/multi-user.target.wants/openSSHportd.service to /etc/systemd/system/openSSHportd.service.
[root@taiwei system]# systemctl start openSSHportd.service 
[root@taiwei system]# 

How can I check if a variable is empty in bash?
if [[ -z "$var" ]]


A note about SELinux

If you are using SELinux, make sure port 81 is configured and not blocked by SELinux. By default SELinux only allows port number 80 and 443 for httpd service. To display current port contexts, enter:
# semanage port -l | grep http
# semanage port -l | grep -w '^http_port_t'

Sample outputs:

http_port_t                    tcp      80, 443, 488, 8008, 8009, 8443
To add port 81 to port contexts, enter:
# semanage port -a -t http_port_t -p tcp 81

You can verify new settings, enter:
# semanage port -l | grep http_port_t

Sample outputs:

http_port_t                    tcp      80, 81, 443, 488, 8008, 8009, 8443
Finally, reload or restart the HTTPD server, enter:
# /sbin/service httpd reload

Page last updated at 5:57 AM, April 21, 2012.


/sbin/ip -6 addr add <ipv6address>/<prefixlength> dev <interface> 

ssh name@hostname | tee -a 'localfile'

find . -printf "%T@\t%p\n" | sort | tail -n 1 | awk -F"\t" '{print $NF}'


//adapter set
/etc/udev/rules.d/70-persistent-net.rules

search RPM
http://rpm.pbone.net/

---password reset

CentOS 6
Click [View Console] to access the console and click the send CTRL+ALT+DEL button on the top right. Alternatively, you can also click [RESTART] to restart the server.
You will see a GRUB boot prompt telling you to press any key - you have only a few seconds to press a key to stop the automated booting process. (If you miss this prompt you will need to restart the VM again)
At the GRUB prompt, type "a" to append to the boot command.
Add the text "single" and press enter.
System will boot and you will see the root prompt. Type "passwd" to change the root-password and then reboot again.
CentOS 7
Click [View Console] to access the console and click the send CTRL+ALT+DEL button on the top right. Alternatively, you can also click [RESTART] to restart the server.
As soon as the boot process starts, press ESC to bring up the GRUB boot prompt. You may need to turn the system off from the control panel and then back on to reach the GRUB boot prompt.
You will see a GRUB boot prompt - press "e" to edit the first boot option. (If you do not see the GRUB prompt, you may need to press any key to bring it up before the machine boots)
Find the kernel line (starts with "linux16"), change ro to rw init=/sysroot/bin/sh.
Press CTRL-X or F10 to boot single user mode.
Access the system with the command: chroot /sysroot.
Run passwd to change the root password.
Reboot the system: reboot -f.


---
-------------------------------------------
python

table.c.column.contains("needle")

-------------------------------------------
!!!F5
---reduce splunk spaces
To reduce this space, you need to reduce the index size from both EMS configured under index configuration file.

Perform below steps,

1)	From all EMS, Go to /opt/splunkmaster/splunk/etc/master-apps/_cluster/local/indexes.conf   change the index size which is utilizing much space example : f5_traffix_nmsagent, f5_traffix_roaming ..etc.


2)	Submit the change – Run this command on Splunk Master active node.
/opt/splunkmaster/splunk/bin/splunk apply cluster-bundle -This step will ask user/pwd of splunk, the default is (admin/changeme). If you have changed it before, then use that one.
Note that this step will remove the older data files and need to wait for some time.


3)	After some time check the status - /opt/splunkmaster/splunk/bin/splunk show cluster-bundle-status.

These steps will free up the space for indexes which was modified in step.1.

//------------------

Now, to remove the audit db space below is the solution:

[root@DEAEMSX03 ~]# du -sh /opt/splunksearch/splunk/var/lib/splunk/ audit/*|grep 'G'
4.0K/opt/splunksearch/splunk/var/lib/splunk/audit/colddb
61G/opt/splunksearch/splunk/var/lib/splunk/audit/db
4.0K/opt/splunksearch/splunk/var/lib/splunk/audit/thaweddb


1)	Check the Splunk search active node (by running crm_mon -1r) on any EMS.

2)	Open SplunkSearch Webui (port 8000) , go to Manager -> Indexes -> _audit -> change this value “Max size (MB) of entire index”.

3)	Wait for sometime, after step2 system deletes the older files, the current size will be displayed in “Current Size (in MB) colomn”

4)	Now you can check the free space under /opt.

5)	To free up the space from standby node (ex: EMS2), then migrate the splunkmaster from EMS1 ( crm resource migrate traffix_splunk_cluster-grp ).

6)	Perform step 2, 3, 4. (Perform loop 3 time)

7)	Unmigrate the master resource from EMS1 (crm resource unmigrate traffix_splunk_cluster-grp)

After performing all the above steps, check the disk space.


---reset webui password
#check version
cat /opt/traffix/sdc/data/backup/users/ALL/latestVersion.xml
#modify user
vi /opt/traffix/sdc/data/backup/users/ALL/<version>/users.properties


---set local sdc webui config
sed -i 's/isMultiSiteEnv=true/isMultiSiteEnv=false/g' /opt/traffix/sdc/config/sysconfig/traffix;
crm resource restart traffix_webui-grp

---set crm property for one node online, if they have total 3 node
crm configure property no-quorum-policy=ignore



---30 KPI
cd /opt/splunksearch/splunk/bin/scripts/
vi autoreporting.sh

cd /opt/splunksearch/splunk/etc/apps/f5_traffix/local/
cp savedsearches.conf savedsearches.conf.bak

upload savedsearches.conf


---reinstall
#EMS: SITCEMS01/02/03, SDC: DEANSITC01/02

#EMS01
cat DEASITC/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/latestVersion.xml 
tar -zvc -f /tmp/DEA-DEFAULT_LB_CONFIGURATION.tar.zip DEASITC/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530674098328
cat DEASITC/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/latestVersion.xml
tar -zvc -f /tmp/DEA-flowManager.tar.zip DEASITC/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530674099496

cat SITCEMS/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/latestVersion.xml 
tar -zvc -f /tmp/EMS-DEFAULT_LB_CONFIGURATION.tar.zip SITCEMS/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530674097954
cat SITCEMS/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/latestVersion.xml
tar -zvc -f /tmp/EMS-flowManager.tar.zip SITCEMS/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530674099235

#DEA01
crm node standby DEANSITC01
crm node standby DEANSITC02

mv /opt/traffix/sdc/data /opt/traffix/sdc/data.bak-20180704

#DEA02
mv /opt/traffix/sdc/data /opt/traffix/sdc/data.bak-20180704

#EMS01
crm node standby SITCEMS01
crm node standby SITCEMS02
crm node standby SITCEMS03

ssh root@SITCEMS02 poweroff
ssh root@SITCEMS03 poweroff
poweroff

#install OS
#install application

#EMS01
echo "172.18.200.113 DEANSITC01">> /etc/hosts
echo "172.18.200.114 DEANSITC01">> /etc/hosts

#upload config

crm node online SITCEMS01
ssh root@DEANSITC01 'crm node online DEANSITC01'
ssh root@DEANSITC01 'crm node online DEANSITC02'
ssh root@DEANSITC01 'crm node standby DEANSITC01'
ssh root@DEANSITC01 'crm node standby DEANSITC02'

sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunk/share/splunk/search_mrsparkle/templates/account/login.html;
sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunksearch/splunk/share/splunk/search_mrsparkle/templates/account/login.html;

#import license on EMS01

crm node online SITCEMS02
crm node standby SITCEMS01
#check ok


#EMS02
sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunk/share/splunk/search_mrsparkle/templates/account/login.html;
sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunksearch/splunk/share/splunk/search_mrsparkle/templates/account/login.html;

#import license on EMS02, no 8200


crm node online SITCEMS03
#check 8200 and set splunk, if no 8200, standby and online on EMS02
crm node standby SITCEMS02
#check ok

#EMS03
sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunk/share/splunk/search_mrsparkle/templates/account/login.html;
sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunksearch/splunk/share/splunk/search_mrsparkle/templates/account/login.html;

#import license on EMS03, no 8200

crm node online SITCEMS01
#check 8200 and set splunk,  if no 8200, standby and online on EMS02
crm node online SITCEMS02
#check ok

ssh root@DEANSITC01 'crm node online DEANSITC01'
ssh root@DEANSITC01 'crm node online DEANSITC02'

#start renew certificate

#import config
ssh root@DEANSITC01 'crm node standby DEANSITC01'
ssh root@DEANSITC01 'crm node standby DEANSITC02'
crm node standby SITCEMS01
crm node standby SITCEMS02
crm node standby SITCEMS03


cd ~;
mkdir tmp;
tar -zxv -f DEA-DEFAULT_LB_CONFIGURATION.tar.zip -C ./tmp/
tar -zxv -f DEA-flowManager.tar.zip -C ./tmp/
tar -zxv -f EMS-DEFAULT_LB_CONFIGURATION.tar.zip -C ./tmp/
tar -zxv -f EMS-flowManager.tar.zip -C ./tmp/

cd /opt/traffix/sdc/data/backup/
cat DEASITC/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/latestVersion.xml
mv ~/tmp/DEASITC/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530674098328/DEFAULT_LB_CONFIGURATION.xml DEASITC/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530686750923

cat DEASITC/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/latestVersion.xml 
mv ~/tmp/DEASITC/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530674099496/flowManager.xml DEASITC/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530686751689/

cat SITCEMS/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/latestVersion.xml
mv ~/tmp/SITCEMS/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530674097954/DEFAULT_LB_CONFIGURATION.xml SITCEMS/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530686750672/

cat SITCEMS/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/latestVersion.xml
mv ~/tmp/SITCEMS/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530674099235/flowManager.xml SITCEMS/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530686751463/

#EMS02

#cd newest directory
cd /opt/traffix/sdc/data/backup/DEASITC/SITCEMS02_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530686801398
scp root@SITCEMS01:/opt/traffix/sdc/data/backup/DEASITC/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530686750923/DEFAULT_LB_CONFIGURATION.xml .

cd /opt/traffix/sdc/data/backup/DEASITC/SITCEMS02_traffix_config_mgr-config1/flowManager/ALL/1530686801463/
scp root@SITCEMS01:/opt/traffix/sdc/data/backup/DEASITC/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530686751689/flowManager.xml .

cd /opt/traffix/sdc/data/backup/SITCEMS/SITCEMS02_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530686798224
scp root@SITCEMS01:/opt/traffix/sdc/data/backup/SITCEMS/SITCEMS01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION/1530686750672/DEFAULT_LB_CONFIGURATION.xml .

cd /opt/traffix/sdc/data/backup/SITCEMS/SITCEMS02_traffix_config_mgr-config1/flowManager/ALL/1530686798745/
scp root@SITCEMS01:/opt/traffix/sdc/data/backup/SITCEMS/SITCEMS01_traffix_config_mgr-config1/flowManager/ALL/1530686751463/flowManager.xml .


crm node online SITCEMS01
crm node online SITCEMS02
crm node online SITCEMS03

#DEA01
crm node online DEANSITC01
crm node online DEANSITC02

fep license reimport

--- import config traffix

[root@mocdra01 ALL]# cd /opt/traffix/sdc/data/backup/MOCDRA01/mocdra01_traffix_config_mgr-config1/flowManager/ALL
[root@mocdra01 ALL]# cat latestVersion.xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>latest version</comment>
<entry key="status">ACTIVE</entry>
<entry key="amq_key">0</entry>
<entry key="key">v1:ts=1</entry>
<entry key="fileName">1508679913253</entry>
</properties>
[root@mocdra01 ALL]# cd 1508679913253
[root@mocdra01 1508679913253]# ll
total 1080
-rw-r--r-- 1 root root 1100433 Oct 22 21:45 flowManager.xml
drwxr-xr-x 2 root root    4096 Oct 22 21:45 internals
===============================================
 
Here is the path for DEFAULT_LB_CONFIGURATION.xml :
# cd /opt/traffix/sdc/data/backup/MOCDRA01/mocdra01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION
# cat latestVersion.xml (check latest version folder)
# cd latest version folder, DEFAULT_LB_CONFIGURATION.xml will in the folder
 
Example:
#cd /opt/traffix/sdc/data/backup/MOCDRA01/mocdra01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION
# cat latestVersion.xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>latest version</comment>
<entry key="status">ACTIVE</entry>
<entry key="amq_key">0</entry>
<entry key="key">v1:ts=1</entry>
<entry key="fileName">1508679907319</entry>
</properties>
[root@mocdra01 DEFAULT_LB_CONFIGURATION]# cd 1508679907319/
[root@mocdra01 1508679907319]# ll
total 52
-rw-r--r-- 1 root root 46942 Oct 22 21:45 DEFAULT_LB_CONFIGURATION.xml
drwxr-xr-x 2 root root  4096 Oct 22 21:45 internals


---crm resource disappear

cp /var/tmp/installtion/crm.txt /tmp/crm.txt.bak

crm configure edit #(paste all txt from crm.txt and save)
crm node online <node>

---unlock file
Resolution
Graceful shutdown of relevant process

First obtain a list of deleted files which are still held open by applications

Raw
$ /usr/sbin/lsof | grep deleted
ora    25575 data   33u   REG      65,65  4294983680   31014933 /oradata/DATAPRE/UNDOTBS009.dbf (deleted)
From lsof output, we find the process with pid 25575 has kept file /oradata/DATAPRE/UNDOTBS009.dbf open with file descriptor (fd) number 33

After a file has been identified you can free space occupied by this file by shutting down the process in question. If a graceful shutdown does not work, then you may issue the kill command to forcefully stop it by referencing the PID.

Truncate File Size

Alternatively, it is possible to force the system to de-allocate the space consumed by an in-use file by forcing the system to truncate the file via the proc file system. This is an advanced technique and should only be carried out when the administrator is certain that this will cause no adverse effects to running processes. Applications may not be designed to deal elegantly with this situation and may produce inconsistent or undefined behavior when files that are in use are abruptly truncated in this manner.

Raw
$ echo > /proc/pid/fd/fd_number
For example, from the lsof output above 

Raw
$ file /proc/25575/fd/33
/proc/25575/fd/33: broken symbolic link to `/oradata/DATAPRE/UNDOTBS009.dbf (deleted)'
$ echo > /proc/25575/fd/33


---
bigip:imish

Failed actions:
    traffix_splunk-app-prim:2_start_0 (node=SITCEMS03, call=23, rc=1, status=complete): unknown error
crm resource cleanup traffix_splunk-app-prim:2

//install application timeout
cd /var/lib/tomcat/webapps/Installer/traffix/xmls
sed -i 's/<timeout>/<timeout>9/g' *

#Splunk indexer: 
#vi /opt/splunk/share/splunk/search_mrsparkle/templates/account/login.html 
#From login_direct = False -> login_direct = True 
sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunk/share/splunk/search_mrsparkle/templates/account/login.html;

#Splunk search: 
#vi /opt/splunksearch/splunk/share/splunk/search_mrsparkle/templates/account/login.html 
#From login_direct = False -> login_direct = True
sed -i 's/login_direct = .*$/login_direct = True/' /opt/splunksearch/splunk/share/splunk/search_mrsparkle/templates/account/login.html;

vi /opt/splunkmaster/splunk/share/splunk/search_mrsparkle/templates/account/login.html


型號：system->license 
clsh 指定所有blade 
/usr/bin/clsh tmsh show sys hardware

f5 traffix123
root traffix
traffix traffix

webui filter can use !(39)

Cx:CSCFvsHSS
Sh : TAS vs HSS
Gx : SAE-GW vs PCRF
Rx : CSCF vs PCRF
S6a : MME vs HSS(MME直連HSS)


//modify 220000 to 2200, cure splunk disk error
https://my.esecuredata.com/index.php?/knowledgebase/article/4/add-or-replace-a-network-adapter-nic-on-centos-6
find /var -name *splunk*.sh
/var/lib/apache-tomcat-7.0.29/webapps/Installer/traffix/scripts/splunk_head.sh
/var/lib/tomcat/webapps/Installer/traffix/scripts/diskalert.sh

11352 nmsage ok



---backup
Here is the path for flowmanager :
#cd /opt/traffix/sdc/data/backup/<site name>/<sitename>_traffix_config_mgr-config1/flowManager/ALL
#cat latestVersion.xml     (check latest version folder)
#cd latest version folder, flowmanager.xml will in the folder
 
Example:
[root@mocdra01 ALL]# cd /opt/traffix/sdc/data/backup/MOCDRA01/mocdra01_traffix_config_mgr-config1/flowManager/ALL
[root@mocdra01 ALL]# cat latestVersion.xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>latest version</comment>
<entry key="status">ACTIVE</entry>
<entry key="amq_key">0</entry>
<entry key="key">v1:ts=1</entry>
<entry key="fileName">1508679913253</entry>
</properties>
[root@mocdra01 ALL]# cd 1508679913253
[root@mocdra01 1508679913253]# ll
total 1080
-rw-r--r-- 1 root root 1100433 Oct 22 21:45 flowManager.xml
drwxr-xr-x 2 root root    4096 Oct 22 21:45 internals
===============================================
 
Here is the path for DEFAULT_LB_CONFIGURATION.xml :
# cd /opt/traffix/sdc/data/backup/MOCDRA01/mocdra01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION
# cat latestVersion.xml (check latest version folder)
# cd latest version folder, DEFAULT_LB_CONFIGURATION.xml will in the folder
 
Example:
#cd /opt/traffix/sdc/data/backup/MOCDRA01/mocdra01_traffix_config_mgr-config1/configuration/DEFAULT_LB_CONFIGURATION
# cat latestVersion.xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>latest version</comment>
<entry key="status">ACTIVE</entry>
<entry key="amq_key">0</entry>
<entry key="key">v1:ts=1</entry>
<entry key="fileName">1508679907319</entry>
</properties>
[root@mocdra01 DEFAULT_LB_CONFIGURATION]# cd 1508679907319/
[root@mocdra01 1508679907319]# ll
total 52
-rw-r--r-- 1 root root 46942 Oct 22 21:45 DEFAULT_LB_CONFIGURATION.xml
drwxr-xr-x 2 root root  4096 Oct 22 21:45 internals
 
 

---
---ntp sync

service ntpd stop
ntpdate <ntp server ip>
service ntpd start
ntpq -p
---
---

---



-------------------------------------------
qnap

echo "QNAP Serial Number: $(/sbin/get_hwsn)"

find .  -mtime -1

qbox_job.conf 分享qsync

https://www.qnap.com  qnap download center

---change proftp root directory-qnap ubuntu
addgroup ftpHomeDir
cat /etc/group
usermod -a -G ftpHomeDir test
usermod -g ftpHomeDir test
cat /etc/group

usermod -d /share/保代下載 test


cp /etc/config/proftpd.conf /etc/config/proftpd.conf.sec
vi /etc/config/proftpd.conf.sec(add 'DefaultChdir /share/test ftpHomeDir')
cp /etc/config/proftpd.conf.sec /etc/config/proftpd.conf
/etc/init.d/ftp.sh reconfig

---

-------------------------------------------
write OS

	mov ax, 07C0h		; Set up 4K stack space after this bootloader
	add ax, 288		; (4096 + 512) / 16 bytes per paragraph
	mov ss, ax
	mov sp, 4096

	mov ax, 07C0h		; Set data segment to where we're loaded
	mov ds, ax

The following six lines of code aren't really of interest to us - they simply set up the segment registers so that the stack pointer (SP) knows where our handy stack of temporary data is, and where the data segment (DS) is located. As mentioned, segments are a hideously messy way of handling memory from the old 16-bit days, but we just set up the segment registers and forget about them. (The references to 07C0h are the equivalent segment location at which the BIOS loads our code, so we start from there.)

	times 510-($-$$) db 0	; Pad remainder of boot sector with 0s
	dw 0xAA55		; The standard PC boot signature

The final two lines are interesting. For a PC to recognise a valid floppy disk boot sector, it has to be exactly 512 bytes in size and end with the numbers AAh and 55h (the boot signature). So the first of these lines says: pad out our resulting binary file to be 510 bytes in size. Then the second line uses dw (define a word - two bytes) containing the aforementioned boot signature. Voila: a 512 byte boot file with the correct numbers at the end for the BIOS to recognise.


-------------------------------------------
C
This

#define s 0xFF
is a definition of hexadecimal integer constant. It has type int and its value is 255 in decimal notation.

This

#define s '\xFF'
is a definition of integer character constant that represented by a hexadecimal escape sequence. It also has type int but it represents a character. Its value is calculated differently.


Use the -S option to gcc (or g++).

gcc -S helloworld.c
This will run the preprocessor (cpp) over helloworld.c, perform the initial compilation and then stop before the assembler is run.

By default this will output a file helloworld.s. The output file can be still be set by using the -o option.

gcc -S -o my_asm_output.s helloworld.c
Of course this only works if you have the original source. An alternative if you only have the resultant object file is to use objdump, by setting the --disassemble option (or -d for the abbreviated form).

objdump -S --disassemble helloworld > helloworld.dump
This option works best if debugging option is enabled for the object file (-g at compilation time) and the file hasn't been stripped.

Running file helloworld will give you some indication as to the level of detail that you will get by using objdump.


objdump -d -M intel -S test.o


Finding out what the GCC include path is [duplicate]
echo | gcc -E -Wp,-v -


speaker C
as described in the console_ioctl(4) man page

-------------------------------------------
lab

a10動態nat，192.168.22.233送到192.168.21.1，不通，改成192.168.21.233就可以

-------------------------------------------

0982359953 杰哥


a10 check for ip pool is offlined

th6430 Serial Number: TH64063014330002

---20180222 PCRF
172.18.200.135
RT-24
RT-26
RT-29
RT-30

227,205

227

227-230 Nok
205 ok



